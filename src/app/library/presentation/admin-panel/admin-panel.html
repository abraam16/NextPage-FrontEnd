<div class="admin-container">
  <!-- Header -->
  <div class="admin-header">
    <h1>ğŸš€ Panel de AdministraciÃ³n</h1>
    <p>Bienvenido, <strong>{{ nombreAdmin }}</strong>. GestiÃ³n centralizada del sistema Next Page.</p>
  </div>

  <hr>

  <!-- EstadÃ­sticas -->
  <section class="stats-section">
    <h2>Resumen del Sistema</h2>
    <div class="stats-grid">
      <div *ngFor="let stat of stats" class="stat-card">
        <div class="icon">{{ stat.icon }}</div>
        <div class="details">
          <p class="title">{{ stat.title }}</p>
          <p class="value">{{ stat.value | number }}</p>
        </div>
      </div>
    </div>
  </section>

  <hr>

  <!-- MÃ³dulos de GestiÃ³n -->
  <section class="modules-section">
    <h2>MÃ³dulos de GestiÃ³n</h2>
    <div class="modules-grid">
      <div *ngFor="let module of managementModules" class="module-card" (click)="navegarAModulo(module.route)">
        <div class="module-icon">{{ module.icon }}</div>
        <h3>{{ module.name }}</h3>
        <p>{{ module.description }}</p>
        <span class="btn-goto">Ir al mÃ³dulo â†’</span>
      </div>
    </div>
  </section>

  <hr>

  <!-- GestiÃ³n de Libros -->
  <section class="books-section">
    <h2>Libros en CatÃ¡logo</h2>

    <div class="books-controls">
      <input type="text" placeholder="Buscar tÃ­tulo o autor..." [(ngModel)]="searchTerm" (ngModelChange)="aplicarFiltros()">
      <select [(ngModel)]="selectedGenero" (ngModelChange)="aplicarFiltros()">
        <option *ngFor="let g of generosUnicos" [value]="g">{{ g }}</option>
      </select>
      <button class="btn-add" (click)="addLibro()">â• Agregar Libro</button>
    </div>

    <div class="books-grid">
      <div *ngFor="let libro of librosFiltrados" class="book-card">
        <div class="book-cover">{{ libro.titulo.charAt(0) }}</div>
        <div class="book-details">
          <h3 *ngIf="editingLibro?.id!==libro.id">{{ libro.titulo }}</h3>
          <input *ngIf="editingLibro?.id===libro.id" [(ngModel)]="editingLibro.titulo">

          <p *ngIf="editingLibro?.id!==libro.id">{{ libro.autor }}</p>
          <input *ngIf="editingLibro?.id===libro.id" [(ngModel)]="editingLibro.autor">

          <p>GÃ©nero: <span *ngIf="editingLibro?.id!==libro.id">{{ libro.genero }}</span>
          <input *ngIf="editingLibro?.id===libro.id" [(ngModel)]="editingLibro.genero"></p>

          <p>Disponible: <span *ngIf="editingLibro?.id!==libro.id">{{ libro.disponible ? 'SÃ­':'No' }}</span>
          <select *ngIf="editingLibro?.id===libro.id" [(ngModel)]="editingLibro.disponible"><option [value]="true">SÃ­</option><option [value]="false">No</option></select></p>

          <p>Rating: <span *ngIf="editingLibro?.id!==libro.id">{{ libro.rating }}</span>
          <input *ngIf="editingLibro?.id===libro.id" type="number" min="0" max="5" step="0.1" [(ngModel)]="editingLibro.rating"></p>

          <div class="book-actions">
            <button *ngIf="editingLibro?.id!==libro.id" (click)="editLibro(libro)">âœï¸ Editar</button>
            <button *ngIf="editingLibro?.id===libro.id" (click)="saveLibro()">ğŸ’¾ Guardar</button>
            <button *ngIf="editingLibro?.id===libro.id" (click)="cancelEdit()">âŒ Cancelar</button>
            <button (click)="deleteLibro(libro)">ğŸ—‘ï¸ Eliminar</button>
          </div>
        </div>
      </div>
    </div>
  </section>

  <hr>

  <!-- Acciones rÃ¡pidas -->
  <div class="quick-actions">
    <button class="btn-danger">Limpiar CachÃ©</button>
    <button class="btn-success">Ver Logs del Sistema</button>
  </div>
</div>
