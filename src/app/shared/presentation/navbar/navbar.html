<!-- Banner navideÃ±o arriba -->
<div class="holiday-banner">ğŸ„ Â¡Felices Fiestas! ğŸ</div>

<nav class="navbar">

  <!-- Logo con luces -->
  <div class="logo">
    <a routerLink="/">
      <span class="logo-icon">ğŸ“–</span> NEXT PAGE
      <span class="lights">
        <span></span><span></span><span></span><span></span><span></span>
      </span>
    </a>
  </div>

  <!-- Buscador centrado -->
  <div class="search-box">
    <input type="text" placeholder="Buscar libros, autores o gÃ©neros...">
    <button><span class="material-icons">search</span></button>
  </div>

  <!-- Links dinÃ¡micos a la derecha -->
  <ul class="nav-links" *ngIf="!authService.isLoggedIn()">
    <li><a routerLink="/login" class="btn-nav">Iniciar SesiÃ³n</a></li>
    <li><a routerLink="/registro" class="btn-nav">Registrarse</a></li>
  </ul>

  <!-- Links para usuarios logueados -->
  <ul 
    class="nav-links"
    [ngClass]="{ 'profesor': authService.getCurrentUser()?.role === 'profesor' }"
    *ngIf="authService.isLoggedIn()">

    <!-- Si es PROFESOR -->
    <ng-container *ngIf="authService.getCurrentUser()?.role === 'profesor'; else alumnoLinks">

      <li><a routerLink="/catalogo">Biblioteca</a></li>
      <li><a routerLink="/home">Inicio</a></li>
      <li><a routerLink="/teacher-dashboard">Panel Docente</a></li>

      <!-- Nombre del profesor -->
      <li>
        <a routerLink="/teacher-dashboard">
          {{ authService.getCurrentUser()?.nombre }}
        </a>
      </li>

      <li><button class="btn-nav" (click)="logout()">Cerrar SesiÃ³n</button></li>

    </ng-container>

    <!-- Si es ALUMNO -->
    <ng-template #alumnoLinks>
      <li><a routerLink="/catalogo">Libros</a></li>
      <li><a routerLink="/home">Inicio</a></li>
      <li>
        <a routerLink="/student-dashboard">
          {{ authService.getCurrentUser()?.nombre }}
        </a>
      </li>
      <li><button class="btn-nav" (click)="logout()">Cerrar SesiÃ³n</button></li>
    </ng-template>

  </ul>

  <!-- Trineo animado con renos -->
  <div class="santa-sleigh">
    <span class="santa">ğŸ…</span>
    <span class="reindeer">ğŸ¦Œ</span>
    <span class="reindeer">ğŸ¦Œ</span>
    <span class="reindeer">ğŸ¦Œ</span>
    <span class="reindeer">ğŸ¦Œ</span>
  </div>

  <!-- Copos de nieve -->
  <div class="snowflakes" aria-hidden="true">
    <div class="snowflake">â„</div>
    <div class="snowflake">â„</div>
    <div class="snowflake">â„</div>
    <div class="snowflake">â„</div>
    <div class="snowflake">â„</div>
  </div>

</nav>
