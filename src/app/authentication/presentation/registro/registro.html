<div class="login-container">
  <h2>Registro</h2>

  <form [formGroup]="registroForm" (ngSubmit)="onSubmit()">

    <input type="text" placeholder="Nombre" formControlName="nombre">
    <input type="email" placeholder="Correo electrónico" formControlName="email">
    <input type="password" placeholder="Contraseña" formControlName="password">
    <input type="password" placeholder="Confirmar Contraseña" formControlName="confirmPassword">

    <select formControlName="role">
      <option *ngFor="let r of roles" [value]="r">{{ r | titlecase }}</option>
    </select>

    <!-- Campos adicionales para Alumno -->
    <div *ngIf="registroForm.get('role')?.value === 'alumno'">
      <select formControlName="grado">
        <option value="">Selecciona Grado</option>
        <option *ngFor="let g of grados" [value]="g">{{ g }}</option>
      </select>
      <input type="text" placeholder="Sección" formControlName="seccion">
      <input type="text" placeholder="Colegio" formControlName="colegio">
      <input type="text" placeholder="Ciudad" formControlName="ciudad">
    </div>

    <!-- Campos adicionales para Profesor -->
    <div *ngIf="registroForm.get('role')?.value === 'profesor'">
      <input type="text" placeholder="Colegio" formControlName="colegio">
      <input type="text" placeholder="Curso" formControlName="curso">
    </div>

    <button type="submit">Registrarse</button>
  </form>

  <p class="error" *ngIf="errorRegistro">{{ errorRegistro }}</p>
  <p class="success" *ngIf="registroExitoso">Registro exitoso! Redirigiendo...</p>

  <p>¿Ya tienes cuenta? <a routerLink="/login">Inicia sesión aquí</a></p>
</div>
